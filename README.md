# ğŸ”¥ Hot Now çˆ¬èŸ²å°ˆæ¡ˆ

é€™æ˜¯ç‚º [Hot Now](https://hotnow.garylin.dev) ç¶²ç«™æä¾›è³‡æ–™çš„çˆ¬èŸ²å°ˆæ¡ˆï¼Œè² è²¬æ”¶é›†å„ç¨®ç†±é–€å…§å®¹çš„æœ€æ–°è³‡è¨Šã€‚

## ğŸŒŸ å°ˆæ¡ˆç°¡ä»‹

Hot Now æ˜¯ä¸€å€‹æ•´åˆå„å¤§å¹³å°ç†±é–€å…§å®¹çš„è³‡è¨Šèšåˆç¶²ç«™ï¼Œè®“ä½¿ç”¨è€…èƒ½å¤ ä¸€ç«™å¼ç€è¦½å„ç¨®ç†±é–€è©±é¡Œã€‚

-   **ç¶²ç«™é€£çµ**: [https://hotnow.garylin.dev](https://hotnow.garylin.dev)
-   **ä¸»å°ˆæ¡ˆ**: [https://github.com/garylin0969/hot-now](https://github.com/garylin0969/hot-now)

## ğŸ“Š æ”¯æ´å¹³å°

Hot Now æ•´åˆäº†ä»¥ä¸‹å¹³å°çš„ç†±é–€å…§å®¹ï¼š

| å¹³å°             | å…§å®¹é¡å‹     | è³‡æ–™ä¾†æºæ–¹å¼                     | è² è²¬å°ˆæ¡ˆ   |
| ---------------- | ------------ | -------------------------------- | ---------- |
| **YouTube**      | ç™¼ç‡’å½±ç‰‡     | Google Cloud YouTube Data API v3 | ä¸»å°ˆæ¡ˆ     |
| **PTT**          | 24H ç†±é–€æ–‡ç«  | çˆ¬èŸ²                             | **æœ¬å°ˆæ¡ˆ** |
| **Google**       | ç†±æœæ¦œ       | çˆ¬èŸ²                             | **æœ¬å°ˆæ¡ˆ** |
| **å·´å“ˆå§†ç‰¹**     | ç†±é–€è©±é¡Œ     | å®˜æ–¹ API                         | ä¸»å°ˆæ¡ˆ     |
| **Reddit**       | ç†±é–€æ–‡ç«      | å®˜æ–¹ JSON API                    | ä¸»å°ˆæ¡ˆ     |
| **Komica(K å³¶)** | ç†±é–€æ–‡ç«      | çˆ¬èŸ²                             | **æœ¬å°ˆæ¡ˆ** |

## ğŸ•·ï¸ æœ¬å°ˆæ¡ˆè² è²¬çš„çˆ¬èŸ²

æœ¬å°ˆæ¡ˆå°ˆé–€è² è²¬ä»¥ä¸‹ä¸‰å€‹å¹³å°çš„è³‡æ–™çˆ¬å–ï¼š

### 1. PTT ç†±é–€æ–‡ç« 

-   **ç›®æ¨™ç¶²ç«™**: https://www.pttweb.cc/hot/all/today
-   **è³‡æ–™å…§å®¹**: 24 å°æ™‚ç†±é–€æ–‡ç« 
-   **çˆ¬èŸ²é »ç‡**: **æ¯ 10 åˆ†é˜** (ä¸€å¤© 144 æ¬¡)
-   **åŸ·è¡Œæ™‚é–“**: æ¯å°æ™‚ç¬¬ 1ã€11ã€21ã€31ã€41ã€51 åˆ†é˜
-   **å„²å­˜ä½ç½®**: `data/ptt-trends.json`

### 2. Google ç†±æœæ¦œ

-   **ç›®æ¨™ç¶²ç«™**: https://trends.google.com.tw/trending?geo=TW&hours=4
-   **è³‡æ–™å…§å®¹**: å°ç£ 4 å°æ™‚å…§ç†±æœé—œéµå­—
-   **çˆ¬èŸ²é »ç‡**: **æ¯ 30 åˆ†é˜** (ä¸€å¤© 48 æ¬¡)
-   **åŸ·è¡Œæ™‚é–“**: æ¯å°æ™‚ç¬¬ 15ã€45 åˆ†é˜
-   **å„²å­˜ä½ç½®**: `data/google-trends.json`

### 3. Komica(K å³¶) ç†±é–€æ–‡ç« 

-   **ç›®æ¨™ç¶²ç«™**: https://gita.komica1.org/00b/catlist.php
-   **è³‡æ–™å…§å®¹**: ä»Šæ—¥ç†±é–€æ–‡ç«  Top 50
-   **çˆ¬èŸ²é »ç‡**: **æ¯ 30 åˆ†é˜** (ä¸€å¤© 48 æ¬¡)
-   **åŸ·è¡Œæ™‚é–“**: æ¯å°æ™‚ç¬¬ 7ã€37 åˆ†é˜
-   **å„²å­˜ä½ç½®**: `data/komica-trends.json`

## ğŸ—ï¸ æŠ€è¡“æ¶æ§‹

### æŠ€è¡“æ£§

-   **åŸ·è¡Œç’°å¢ƒ**: Node.js 18
-   **ç¨‹å¼èªè¨€**: TypeScript
-   **ç¶²é çˆ¬èŸ²**: Puppeteer
-   **HTTP è«‹æ±‚**: Axios
-   **éƒ¨ç½²å¹³å°**: GitHub Actions
-   **åŒ…ç®¡ç†å™¨**: pnpm

### å°ˆæ¡ˆçµæ§‹

```
trend-scraper/
â”œâ”€â”€ scripts/                 # çˆ¬èŸ²è…³æœ¬
â”‚   â”œâ”€â”€ google-trends.ts     # Googleç†±æœçˆ¬èŸ²
â”‚   â”œâ”€â”€ komica-trends.ts     # Kå³¶ç†±é–€æ–‡ç« çˆ¬èŸ²
â”‚   â””â”€â”€ ptt-trends.ts        # PTTç†±é–€æ–‡ç« çˆ¬èŸ²
â”œâ”€â”€ data/                    # çˆ¬èŸ²è³‡æ–™å„²å­˜
â”‚   â”œâ”€â”€ google-trends.json   # Googleç†±æœè³‡æ–™
â”‚   â”œâ”€â”€ komica-trends.json   # Kå³¶ç†±é–€è³‡æ–™
â”‚   â””â”€â”€ ptt-trends.json      # PTTç†±é–€è³‡æ–™
â”œâ”€â”€ .github/workflows/       # GitHub Actionså·¥ä½œæµç¨‹
â”‚   â”œâ”€â”€ update-google.yml    # Googleç†±æœè‡ªå‹•æ›´æ–°
â”‚   â”œâ”€â”€ update-komica.yml    # Kå³¶è‡ªå‹•æ›´æ–°
â”‚   â””â”€â”€ update-ptt.yml       # PTTè‡ªå‹•æ›´æ–°
â”œâ”€â”€ package.json             # å°ˆæ¡ˆè¨­å®š
â”œâ”€â”€ tsconfig.json           # TypeScriptè¨­å®š
â””â”€â”€ pnpm-lock.yaml          # ä¾è³´é–å®šæª”
```

## ğŸš€ æœ¬åœ°é–‹ç™¼

### ç’°å¢ƒéœ€æ±‚

-   Node.js 18+
-   pnpm

### å®‰è£æ­¥é©Ÿ

```bash
# å…‹éš†å°ˆæ¡ˆ
git clone https://github.com/garylin0969/trend-scraper.git
cd trend-scraper

# å®‰è£ä¾è³´
pnpm install

# å®‰è£ Puppeteer Chromium
npx puppeteer browsers install chrome
```

### åŸ·è¡Œçˆ¬èŸ²

```bash
# çˆ¬å– Google ç†±æœ
pnpm scrape:google

# çˆ¬å– PTT ç†±é–€æ–‡ç« 
pnpm scrape:ptt

# çˆ¬å– Kå³¶ ç†±é–€æ–‡ç« 
pnpm scrape:komica
```

## ğŸ¤– è‡ªå‹•åŒ–éƒ¨ç½²

æœ¬å°ˆæ¡ˆä½¿ç”¨ GitHub Actions å¯¦ç¾è‡ªå‹•åŒ–çˆ¬èŸ²ï¼Œæ¯å€‹å¹³å°éƒ½æœ‰ç¨ç«‹çš„å·¥ä½œæµç¨‹ï¼š

### Google ç†±æœè‡ªå‹•æ›´æ–°

-   **æª”æ¡ˆ**: `.github/workflows/update-google.yml`
-   **åŸ·è¡Œé »ç‡**: æ¯å°æ™‚ç¬¬ 15ã€45 åˆ†é˜
-   **cron è¡¨é”å¼**: `15,45 * * * *`

### K å³¶è‡ªå‹•æ›´æ–°

-   **æª”æ¡ˆ**: `.github/workflows/update-komica.yml`
-   **åŸ·è¡Œé »ç‡**: æ¯å°æ™‚ç¬¬ 7ã€37 åˆ†é˜
-   **cron è¡¨é”å¼**: `7,37 * * * *`

### PTT è‡ªå‹•æ›´æ–°

-   **æª”æ¡ˆ**: `.github/workflows/update-ptt.yml`
-   **åŸ·è¡Œé »ç‡**: æ¯ 10 åˆ†é˜
-   **cron è¡¨é”å¼**: `1,11,21,31,41,51 * * * *`

## ğŸ“‹ çˆ¬èŸ²ç‰¹è‰²

### PTT çˆ¬èŸ²

-   æ™ºæ…§æ»¾å‹•ç­–ç•¥ï¼Œä¿æŒæ–‡ç« ç†±é–€åº¦é †åº
-   å¤šå±¤å‚™ç”¨é¸æ“‡å™¨ï¼Œç¢ºä¿ç©©å®šæ€§
-   æ”¯æ´åœ–ç‰‡ URL æå–
-   å®Œæ•´çš„å»é‡æ©Ÿåˆ¶

### Google ç†±æœçˆ¬èŸ²

-   éš¨æ©Ÿ User-Agent é¿å…è¢«åµæ¸¬
-   éš¨æ©Ÿå»¶é²æ¨¡æ“¬äººé¡è¡Œç‚º
-   ç²¾æº–æå–æœå°‹é‡å’Œæ™‚é–“è³‡è¨Š

### K å³¶çˆ¬èŸ²

-   è§£æ HTML çµæ§‹
-   æå–å®Œæ•´çš„è¨è«–ä¸²è³‡è¨Š
-   æ”¯æ´å›è¦†æ•¸é‡çµ±è¨ˆ

## ğŸ›¡ï¸ åçˆ¬èŸ²ç­–ç•¥

ç‚ºäº†ç¢ºä¿çˆ¬èŸ²ç©©å®šé‹ä½œï¼Œæœ¬å°ˆæ¡ˆæ¡ç”¨äº†å¤šç¨®ååµæ¸¬æŠ€è¡“ï¼š

-   **éš¨æ©Ÿ User-Agent**: æ¨¡æ“¬ä¸åŒç€è¦½å™¨å’Œè¨­å‚™
-   **éš¨æ©Ÿå»¶é²**: é¿å…è¦å¾‹æ€§å­˜å–æ¨¡å¼
-   **ç©©å®šé¸æ“‡å™¨**: é¿å…ä¾è³´å‹•æ…‹ CSS é¡å
-   **å¤šå±¤å‚™ç”¨æ–¹æ¡ˆ**: ç¢ºä¿åœ¨ç¶²ç«™æ›´æ–°æ™‚ä»èƒ½æ­£å¸¸é‹ä½œ
-   **Headless ç€è¦½å™¨**: ä½¿ç”¨ Puppeteer æ¨¡æ“¬çœŸå¯¦ç€è¦½å™¨è¡Œç‚º

## ğŸŒ è³‡æ–™ API

æœ¬å°ˆæ¡ˆä½¿ç”¨ GitHub Pages æä¾›å³æ™‚çš„ JSON è³‡æ–™ APIï¼Œä»»ä½•äººéƒ½å¯ä»¥é€éä»¥ä¸‹ç«¯é»å–å¾—æœ€æ–°è³‡æ–™ï¼š

### API ç«¯é»

| å¹³å°              | API ç«¯é»                                                            | æ›´æ–°é »ç‡   |
| ----------------- | ------------------------------------------------------------------- | ---------- |
| **PTT ç†±é–€æ–‡ç« **  | https://garylin0969.github.io/trend-scraper/data/ptt-trends.json    | æ¯ 10 åˆ†é˜ |
| **Google ç†±æœæ¦œ** | https://garylin0969.github.io/trend-scraper/data/google-trends.json | æ¯ 30 åˆ†é˜ |
| **K å³¶ç†±é–€æ–‡ç« **  | https://garylin0969.github.io/trend-scraper/data/komica-trends.json | æ¯ 30 åˆ†é˜ |

### CORS æ”¯æ´

æ‰€æœ‰ API ç«¯é»éƒ½æ”¯æ´ CORSï¼Œå¯ä»¥ç›´æ¥åœ¨å‰ç«¯æ‡‰ç”¨ç¨‹å¼ä¸­ä½¿ç”¨ï¼Œç„¡éœ€é¡å¤–çš„ä»£ç†æœå‹™ã€‚

## ğŸ“ˆ è³‡æ–™æ ¼å¼

### PTT ç†±é–€æ–‡ç« 

```json
{
    "updated": "2025-07-05T09:53:34.781Z",
    "total_found": 20,
    "returned_count": 20,
    "articles": [
        {
            "recommendScore": "673",
            "recommendCount": "1018",
            "title": "[å•å¦] åŒ—æª¢æ’æ³•æ²»ï¼Œæˆ‘å€‘æ’åŒ—æª¢ï¼",
            "link": "/bbs/Gossiping/M.1751680585.A.4E1",
            "author": "ambitious",
            "board": "Gossiping",
            "publishTime": "2025/07/05 01:56",
            "imageUrl": "https://cache.pttweb.cc/imgur/Y4T1d9a/s/..."
        }
    ]
}
```

### Google ç†±æœ

```json
{
    "updated": "2025-07-05T09:47:00.588Z",
    "trends": [
        {
            "googleTrend": "æ®µå®œæ©",
            "searchVolume": "500+",
            "started": "3 å°æ™‚å‰"
        }
    ]
}
```

### K å³¶ ç†±é–€æ–‡ç« 

```json
{
    "updated": "2025-07-05T09:39:36.119Z",
    "trends": [
        {
            "replyCount": 130,
            "date": "2025/07/05",
            "time": "00:25",
            "title": "ä¸­åœ‹æ°´ä¸–ç•Œ å¤æ—¥å­£ç¯€æ´»å‹•",
            "description": "6æœˆ26æ—¥è²´å·æ¦•æ±Ÿç¸£ä¸Šæ¸¸æ°´åº«æ´©æ´ªï¼Œæ²³æ°´æš´",
            "link": "https://gita.komica1.org/00b/pixmicat.php?res=28143559",
            "rawText": "130|28143559|2025/07/05|00:25|ä¸­åœ‹æ°´ä¸–ç•Œ å¤æ—¥å­£ç¯€æ´»å‹•|6æœˆ26æ—¥è²´å·æ¦•æ±Ÿç¸£ä¸Šæ¸¸æ°´åº«æ´©æ´ªï¼Œæ²³æ°´æš´|åœ¨æ–°åˆ†é é–‹å•Ÿ"
        }
    ]
}
```

## ğŸ”— ç›¸é—œé€£çµ

-   **Hot Now ç¶²ç«™**: https://hotnow.garylin.dev
-   **Hot Now ä¸»å°ˆæ¡ˆ**: https://github.com/garylin0969/hot-now
-   **è³‡æ–™ API (GitHub Pages)**: https://garylin0969.github.io/trend-scraper/
-   **API é…é¡è³‡è¨Š**:
    -   YouTube Data API v3: 10,000 Queries/day, 1,800,000 Queries/minute
